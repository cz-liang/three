import{O as I}from"./index-Cw1A6OfX.js";import{u as T,a6 as x,a2 as C,az as E,ab as P,C as k,N as p,o as B}from"./useThreeRenderer-DZhM2Mhp.js";const o=3e3,w=5,c=2,j=()=>{const{containerRef:y,setAnimation:A}=T((g,L,u,M)=>{const l=new x,a=new Float32Array(o*3),r=new Float32Array(o*3),n=new Float32Array(o),d=new Float32Array(o),f=new Float32Array(o),b=-9.8,F=new C({size:.2,transparent:!0,vertexColors:!0,blending:E}),s=new P(l,F);g.add(s),u.position.set(0,0,50),u.lookAt(0,0,0),M.target.set(0,30,10),M.update();const v=new B,m=t=>{a[t*3]=0,a[t*3+1]=0,a[t*3+2]=0;const e=Math.random()*Math.PI*2,h=Math.random()*10+5;r[t*3]=Math.random()*.6*Math.cos(e)*h,r[t*3+1]=Math.random()*15+15,r[t*3+2]=Math.random()*.6*Math.sin(e)*h,n[t]=Math.random()*(w-c)+c,f[t]=Math.random()*n[t],d[t]=1},i=new Float32Array(o*3);for(let t=0;t<o;t++){const e=new k().setHSL(Math.random(),1,.6);i[t*3]=e.r,i[t*3+1]=e.g,i[t*3+2]=e.b}l.setAttribute("color",new p(i,3));for(let t=0;t<o;t++)m(t);l.setAttribute("position",new p(a,3)),A(()=>{const t=v.getDelta();for(let e=0;e<o;e++)r[e*3+1]+=b*t,a[e*3+1]+=r[e*3+1]*t,a[e*3]+=r[e*3]*t,a[e*3+2]+=r[e*3+2]*t,a[e*3+1]<0&&m(e),n[e]-=t,(n[e]<=0||n[e]<=f[e])&&m(e),d[e]=n[e]/(w-c+c);s.geometry.attributes.position.needsUpdate=!0,s.geometry.attributes.opacity=new p(d,1),s.geometry.attributes.opacity.needsUpdate=!0})});return I.jsx("div",{ref:y,style:{width:"100%",height:"100%"}})};export{j as default};
