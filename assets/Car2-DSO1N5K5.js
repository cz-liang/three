import{R as f,r as g,O as r}from"./index-CCSjWsne.js";import{A as L,E as k,M as h,u as M,V as C,c as G}from"./useThreeRenderer-CSxgIZQ0.js";import{G as A}from"./GLTFLoader-C8wh86qt.js";import{R as O}from"./RGBELoader-Cu-IZX2S.js";const _=()=>{const s=f.useRef(),a=f.useRef(),p=f.useRef(),w=g.useCallback((e,c,t,o)=>{s.current=e,a.current=t;const n=new L("#ffffff",1.5);n.position.set(-100,50,-160),e.add(n);const l=new O;e.environment=l.load("/three/textures/lakeside_sunrise_1k.hdr"),e.environment.mapping=k,new h({color:"#e2c08d",metalness:1,roughness:.1,transmission:1,ior:1.5,clearcoat:1,clearcoatRoughness:.03,sheen:.5});const x=new h({color:"#38eeff",transparent:!0,opacity:.2,metalness:1,roughness:0,transmission:1}),y=new A,d=2;y.load("/three/models/car.glb",m=>{const i=m.scene;console.log(i),i.traverse(u=>{const{x:b,y:j,z:E}=u.position;u.position.set(b*d,j*d,E*d),u.material=x}),e.add(i),p.current=i},void 0,m=>{console.error("Error loading GLB model:",m)}),t.position.set(0,0,5),o.target.set(0,0,0)},[]),{containerRef:R,setAnimation:v}=M(w);return v(()=>{}),g.useEffect(()=>{if(!s.current||!a.current)return;const e=new C,c=new G,t=o=>{e.x=o.clientX/window.innerWidth*2-1,e.y=-(o.clientY/window.innerHeight)*2+1,c.setFromCamera(e,a.current);const n=c.intersectObjects(s.current.children,!0);if(n.length>0){const l=n[0].object;console.log(l.name)}};return window.addEventListener("click",t),()=>{window.removeEventListener("click",t)}},[s.current]),r.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},children:[r.jsx("div",{ref:R,style:{width:"100%",height:"100vh"}}),r.jsxs("div",{style:{position:"absolute",top:0,right:0,padding:10,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)"},children:[r.jsx("div",{style:{display:"flex",alignItems:"center"}}),r.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:10}})]})]})};export{_ as default};
