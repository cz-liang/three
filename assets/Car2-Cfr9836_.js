import{R as f,r as g,O as s}from"./index-Cw1A6OfX.js";import{A as L,E as k,M as p,u as M,V as C,c as G}from"./useThreeRenderer-DZhM2Mhp.js";import{G as A}from"./GLTFLoader-BvBHhqih.js";import{R as O}from"./RGBELoader-DEU4bJPb.js";const _=()=>{const r=f.useRef(),a=f.useRef(),h=f.useRef(),w=g.useCallback((e,c,t,o)=>{r.current=e,a.current=t;const n=new L("#ffffff",1.5);n.position.set(-100,50,-160),e.add(n);const l=new O;e.environment=l.load("/textures/lakeside_sunrise_1k.hdr"),e.environment.mapping=k,new p({color:"#e2c08d",metalness:1,roughness:.1,transmission:1,ior:1.5,clearcoat:1,clearcoatRoughness:.03,sheen:.5});const x=new p({color:"#38eeff",transparent:!0,opacity:.2,metalness:1,roughness:0,transmission:1}),y=new A,d=2;y.load("/models/car.glb",m=>{const i=m.scene;console.log(i),i.traverse(u=>{const{x:b,y:j,z:E}=u.position;u.position.set(b*d,j*d,E*d),u.material=x}),e.add(i),h.current=i},void 0,m=>{console.error("Error loading GLB model:",m)}),t.position.set(0,0,5),o.target.set(0,0,0)},[]),{containerRef:R,setAnimation:v}=M(w);return v(()=>{}),g.useEffect(()=>{if(!r.current||!a.current)return;const e=new C,c=new G,t=o=>{e.x=o.clientX/window.innerWidth*2-1,e.y=-(o.clientY/window.innerHeight)*2+1,c.setFromCamera(e,a.current);const n=c.intersectObjects(r.current.children,!0);if(n.length>0){const l=n[0].object;console.log(l.name)}};return window.addEventListener("click",t),()=>{window.removeEventListener("click",t)}},[r.current]),s.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},children:[s.jsx("div",{ref:R,style:{width:"100%",height:"100vh"}}),s.jsxs("div",{style:{position:"absolute",top:0,right:0,padding:10,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center"}}),s.jsx("div",{style:{display:"flex",alignItems:"center",marginTop:10}})]})]})};export{_ as default};
